<!DOCTYPE html>
<html lang="en" translate="no">
<head>
    <meta charset="UTF-8">
    <meta name="google" content="notranslate">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>The Daily Quote</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,400;500;700&family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg-color: #F9F9FA;
            --surface-color: #FFFFFF;
            --text-main: #1A1A1A;
            --text-light: #888888;
            --radius: 24px;
            --radius-sm: 16px;
            --success: #2F9E44;
            --success-bg: #E8F5E9;
            --border-thin: 1px solid #1A1A1A;
        }

        /* --- BACKGROUND LAYER --- */
        #background-layer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; opacity: 0.12; pointer-events: none;
            transition: background-image 0.3s ease; background-repeat: repeat;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Ctext x='10' y='40' font-size='30'%3E‚ú®%3C/text%3E%3Ctext x='60' y='90' font-size='30'%3Eüåç%3C/text%3E%3C/svg%3E");
        }
        @media (max-width: 600px) { #background-layer { background-size: 120px 120px; } }
        @media (min-width: 601px) { #background-layer { background-size: 200px 200px; } }

        /* --- BASE STYLES --- */
        body {
            margin: 0; padding: 0; color: var(--text-main); min-height: 100vh;
            font-family: 'DM Sans', sans-serif; -webkit-font-smoothing: antialiased; overflow-x: hidden;
        }
        h1, h2, h3, .quote-text, .landing-title, .cat-name, .candidate-text, .rank-quote { font-family: 'Playfair Display', serif; }

        /* --- LANDING PAGE --- */
        #landing-page {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            min-height: 100vh; padding: 20px; text-align: center; box-sizing: border-box;
        }
        .landing-title { font-size: 3.5rem; margin-bottom: 10px; line-height: 1.1; }
        .landing-subtitle { color: var(--text-light); max-width: 400px; line-height: 1.6; margin-bottom: 50px; }

        .category-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; width: 100%; max-width: 600px; }
        .category-card {
            background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(5px); padding: 30px 20px;
            border-radius: var(--radius); cursor: pointer; transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 20px rgba(0,0,0,0.02); border: var(--border-thin);
        }
        .category-card:active { transform: scale(0.98); }
        .category-card:hover { transform: translateY(-5px); box-shadow: 0 10px 30px rgba(0,0,0,0.05); }
        .cat-icon { font-size: 2.5rem; margin-bottom: 15px; display: block; }
        .cat-name { font-weight: 700; font-size: 1.1rem; }

        /* --- APP PAGE --- */
        #app-page {
            display: none; flex-direction: column; align-items: center;
            animation: fadeIn 0.5s forwards; padding-bottom: 100px; width: 100%; box-sizing: border-box;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        header {
            width: 100%; padding: 30px 20px 0 20px; display: flex;
            justify-content: space-between; align-items: center; max-width: 800px;
            margin-bottom: 30px; box-sizing: border-box;
        }
        .back-btn {
            cursor: pointer; font-size: 1.2rem; background: white; width: 45px; height: 45px;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05); border: var(--border-thin);
        }
        .timer-badge {
            background: white; padding: 10px 20px; border-radius: 50px;
            font-size: 0.9rem; font-weight: 600; box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            font-variant-numeric: tabular-nums; border: var(--border-thin);
        }

        .hero-section { text-align: center; padding: 0 20px; max-width: 650px; width: 100%; box-sizing: border-box; }
        .category-label {
            background: #eee; padding: 6px 14px; border-radius: 20px;
            font-size: 0.75rem; text-transform: uppercase; letter-spacing: 1px;
            font-weight: 700; margin-bottom: 25px; display: inline-block; border: 1px solid rgba(0,0,0,0.1);
        }
        .quote-text { font-size: 2rem; line-height: 1.3; margin-bottom: 20px; }
        .quote-author { color: var(--text-light); font-style: italic; margin-bottom: 40px; display: block; }

        /* --- TABLEAU R√âSULTATS AM√âLIOR√â --- */
        .past-results {
            background: rgba(255, 255, 255, 0.95); border-radius: var(--radius); padding: 25px;
            width: 100%; max-width: 500px; /* Un peu plus large pour les quotes */
            margin: 0 auto 30px auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.03); box-sizing: border-box; border: var(--border-thin);
        }
        .result-row {
            display: flex; flex-direction: column; /* Passage en colonne pour avoir la place */
            margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px dashed #ddd;
            text-align: left;
        }
        .result-row:last-child { border: none; margin: 0; padding: 0; }

        .rank-header {
            display: flex; justify-content: space-between; margin-bottom: 5px; font-size: 0.9rem;
        }
        .rank-name { font-weight: 700; }
        .rank-pct { font-weight: 700; color: black; }
        .rank-quote {
            font-size: 0.9rem; font-style: italic; color: #555; line-height: 1.4;
        }
        /* Style sp√©cifique pour le gagnant (d√©j√† affich√© en gros) */
        .winner-row .rank-quote { display: none; } /* On cache la quote du gagnant car elle est d√©j√† en haut */

        /* --- NEW INSTRUCTION TEXT --- */
        .instruction-text {
            font-size: 0.9rem; color: var(--text-main); margin-bottom: 60px;
            line-height: 1.5; opacity: 0.8; animation: bounceIn 1s ease;
        }
        @keyframes bounceIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 0.8; transform: translateY(0); } }

        .voting-section { width: 100%; max-width: 800px; padding: 0 20px; box-sizing: border-box; }
        .candidate {
            background: rgba(255, 255, 255, 0.95); padding: 25px; margin-bottom: 15px;
            border-radius: var(--radius-sm); cursor: pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.02);
            border: var(--border-thin);
        }
        .candidate.selected { border: 2px solid black; background: #fff; }
        .candidate.locked-selection { background-color: var(--success-bg); border: 1px solid var(--success); color: #1b5e20; }
        .candidate.dimmed { opacity: 0.4; pointer-events: none; }

        #confirm-area {
            position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%);
            z-index: 999; width: 90%; max-width: 350px;
        }
        .btn-confirm {
            width: 100%; background: black; color: white; padding: 20px;
            border-radius: 50px; border: 1px solid black; font-weight: 600;
            box-shadow: 0 10px 30px rgba(0,0,0,0.25); cursor: pointer; font-size: 1.1rem; display: none;
        }
        .success-message {
            display: none; background: rgba(0, 0, 0, 0.9); backdrop-filter: blur(10px);
            color: white; padding: 18px 25px; border-radius: 50px; text-align: center;
            font-size: 0.95rem; box-shadow: 0 15px 40px rgba(0,0,0,0.2);
        }

        @media (max-width: 600px) {
            .landing-title { font-size: 2.5rem; }
            .category-grid { grid-template-columns: 1fr; max-width: 320px; }
            .quote-text { font-size: 1.6rem; }
            header { padding-top: 20px; }
        }
    </style>
</head>
<body>

<div id="background-layer"></div>

<div id="landing-page">
    <div class="landing-title">Daily Quote.</div>
    <p class="landing-subtitle">Choose your universe.</p>

    <div class="category-grid">
        <div class="category-card" onclick="openCategory('Motivation')">
            <span class="cat-icon">üî•</span><span class="cat-name">Motivation</span>
        </div>
        <div class="category-card" onclick="openCategory('Success & Sport')">
            <span class="cat-icon">üèÜ</span><span class="cat-name">Success & Sport</span>
        </div>
        <div class="category-card" onclick="openCategory('Philosophy')">
            <span class="cat-icon">üèõÔ∏è</span><span class="cat-name">Philosophy</span>
        </div>
        <div class="category-card" onclick="openCategory('Humor')">
            <span class="cat-icon">üé≠</span><span class="cat-name">Humor</span>
        </div>
    </div>
</div>

<div id="app-page">
    <header>
        <button class="back-btn" onclick="goHome()">‚Üê</button>
        <div class="timer-badge" id="countdown">--:--:--</div>
    </header>

    <section class="hero-section">
        <span class="category-label" id="current-category-label">CATEGORY</span>
        <div class="quote-text" id="main-quote">Loading...</div>
        <div class="quote-author" id="main-author"></div>

        <div class="past-results" id="past-results-container">
        </div>

        <div class="instruction-text">
            ‚Üì Vote below for tomorrow's quote.<br>
            The winning selection is revealed daily at 10:00 AM.
        </div>
    </section>

    <section class="voting-section">
        <div id="candidates-list"></div>
    </section>
</div>

<div id="confirm-area">
    <button class="btn-confirm" id="lock-btn" onclick="lockVote()">Confirm Vote</button>
    <div class="success-message" id="success-msg">Choice Locked! ‚úÖ</div>
</div>

<script>
    // --- PATTERNS ---
    const backgrounds = {
        'Landing': "data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Ctext x='10' y='40' font-size='30'%3E‚ú®%3C/text%3E%3Ctext x='60' y='90' font-size='30'%3Eüåç%3C/text%3E%3C/svg%3E",
        'Motivation': "data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Ctext x='10' y='40' font-size='30'%3Eüî•%3C/text%3E%3Ctext x='60' y='80' font-size='30'%3EüöÄ%3C/text%3E%3Ctext x='20' y='90' font-size='20'%3Eüí™%3C/text%3E%3C/svg%3E",
        'Success & Sport': "data:image/svg+xml,%3Csvg width='120' height='120' viewBox='0 0 120 120' xmlns='http://www.w3.org/2000/svg'%3E%3Ctext x='10' y='40' font-size='35'%3EüèÜ%3C/text%3E%3Ctext x='70' y='80' font-size='35'%3E‚öΩ%3C/text%3E%3Ctext x='20' y='100' font-size='30'%3EüèÄ%3C/text%3E%3Ctext x='80' y='30' font-size='25'%3Eü•á%3C/text%3E%3C/svg%3E",
        'Philosophy': "data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Ctext x='10' y='40' font-size='35'%3EüèõÔ∏è%3C/text%3E%3Ctext x='60' y='80' font-size='30'%3Eüìú%3C/text%3E%3Ctext x='20' y='90' font-size='25'%3EüïØÔ∏è%3C/text%3E%3C/svg%3E",
        'Humor': "data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Ctext x='10' y='40' font-size='35'%3Eüé≠%3C/text%3E%3Ctext x='60' y='80' font-size='30'%3EüòÑ%3C/text%3E%3Ctext x='20' y='90' font-size='30'%3Eü§£%3C/text%3E%3C/svg%3E"
    };

    // --- DATABASE √âTENDUE (AVEC R√âSULTATS D'HIER) ---
    const database = {
        'Motivation': {
            current: { text: "The only way to do great work is to love what you do.", author: "Steve Jobs" },
            past: [
                { rank: 1, name: "Winner: Steve Jobs", pct: "58%", quote: "The only way to do great work is to love what you do." },
                { rank: 2, name: "2nd: W. Churchill", pct: "24%", quote: "Success is walking from failure to failure with no loss of enthusiasm." },
                { rank: 3, name: "3rd: Mark Twain", pct: "18%", quote: "They didn't know it was impossible so they did it." }
            ],
            candidates: [
                { text: "It always seems impossible until it's done.", author: "Nelson Mandela" },
                { text: "Don't watch the clock; do what it does. Keep going.", author: "Sam Levenson" },
                { text: "The future belongs to those who believe in the beauty of their dreams.", author: "Eleanor Roosevelt" }
            ]
        },
        'Success & Sport': {
            current: { text: "I've missed more than 9000 shots in my career. And that is why I succeed.", author: "Michael Jordan" },
            past: [
                { rank: 1, name: "Winner: Michael Jordan", pct: "62%", quote: "I've missed more than 9000 shots in my career..." },
                { rank: 2, name: "2nd: Kobe Bryant", pct: "28%", quote: "Everything negative - pressure, challenges - is all an opportunity for me to rise." },
                { rank: 3, name: "3rd: Usain Bolt", pct: "10%", quote: "I trained 4 years to run only 9 seconds." }
            ],
            candidates: [
                { text: "Success isn't overnight. It's when every day you get a little better than the day before.", author: "Dwayne 'The Rock' Johnson" },
                { text: "If you're afraid to fail, then you're probably going to fail.", author: "Kobe Bryant" },
                { text: "You miss 100% of the shots you don't take.", author: "Wayne Gretzky" }
            ]
        },
        'Philosophy': {
            current: { text: "Without music, life would be a mistake.", author: "Friedrich Nietzsche" },
            past: [
                { rank: 1, name: "Winner: F. Nietzsche", pct: "45%", quote: "Without music, life would be a mistake." },
                { rank: 2, name: "2nd: Socrates", pct: "35%", quote: "The only true wisdom is in knowing you know nothing." },
                { rank: 3, name: "3rd: Aristotle", pct: "20%", quote: "Knowing yourself is the beginning of all wisdom." }
            ],
            candidates: [
                { text: "I think, therefore I am.", author: "Ren√© Descartes" },
                { text: "Hell is other people.", author: "Jean-Paul Sartre" },
                { text: "The unexamined life is not worth living.", author: "Socrates" }
            ]
        },
        'Humor': {
            current: { text: "I can resist everything except temptation.", author: "Oscar Wilde" },
            past: [
                { rank: 1, name: "Winner: Oscar Wilde", pct: "50%", quote: "I can resist everything except temptation." },
                { rank: 2, name: "2nd: Groucho Marx", pct: "30%", quote: "I refuse to join any club that would have me as a member." },
                { rank: 3, name: "3rd: Albert Einstein", pct: "20%", quote: "Two things are infinite: the universe and human stupidity." }
            ],
            candidates: [
                { text: "Common sense is like deodorant. The people who need it most never use it.", author: "Bill Murray" },
                { text: "I'm not superstitious, but I am a little stitious.", author: "Michael Scott" },
                { text: "I walked into a bar... ouch.", author: "Dad Joke" }
            ]
        }
    };

    function openCategory(catName) {
        document.getElementById('landing-page').style.display = 'none';
        document.getElementById('app-page').style.display = 'flex';
        document.getElementById('current-category-label').innerText = catName;
        document.getElementById('background-layer').style.backgroundImage = `url("${backgrounds[catName]}")`;

        const data = database[catName];
        // Mise √† jour du gagnant (Grand Texte)
        document.getElementById('main-quote').innerText = `"${data.current.text}"`;
        document.getElementById('main-author').innerText = `- ${data.current.author}`;

        // Mise √† jour du tableau des r√©sultats (Dynamique)
        renderPastResults(data.past);

        renderCandidates(data.candidates);
        window.scrollTo(0, 0);
    }

    // Fonction pour g√©n√©rer le tableau des r√©sultats
    function renderPastResults(pastData) {
        const container = document.getElementById('past-results-container');
        container.innerHTML = ''; // Reset

        pastData.forEach((item, index) => {
            const isWinner = index === 0;
            const row = document.createElement('div');
            row.className = `result-row ${isWinner ? 'winner-row' : ''}`;

            row.innerHTML = `
                <div class="rank-header">
                    <span class="rank-name">${item.name}</span>
                    <span class="rank-pct">${item.pct}</span>
                </div>
                <div class="rank-quote">"${item.quote}"</div>
            `;
            container.appendChild(row);
        });
    }

    function goHome() {
        document.getElementById('app-page').style.display = 'none';
        document.getElementById('landing-page').style.display = 'flex';
        document.getElementById('background-layer').style.backgroundImage = `url("${backgrounds['Landing']}")`;
        resetVoteUI();
    }

    function renderCandidates(list) {
        const container = document.getElementById('candidates-list');
        container.innerHTML = '';
        list.forEach((quote, index) => {
            const div = document.createElement('div');
            div.className = 'candidate';
            div.onclick = () => selectCandidate(index);
            div.innerHTML = `<div class="candidate-text" style="font-family: 'Playfair Display', serif;">"${quote.text}"</div><small style="opacity:0.6">${quote.author}</small>`;
            container.appendChild(div);
        });
    }

    let selectedIndex = null; let isLocked = false;
    function selectCandidate(index) {
        if (isLocked) return;
        selectedIndex = index;
        document.querySelectorAll('.candidate').forEach((el, idx) => {
            if (idx === index) el.classList.add('selected');
            else el.classList.remove('selected');
        });
        document.getElementById('lock-btn').style.display = 'block';
    }

    function lockVote() {
        if (selectedIndex === null) return;
        isLocked = true;
        const btn = document.getElementById('lock-btn');
        const msg = document.getElementById('success-msg');
        btn.style.display = 'none'; msg.style.display = 'block';
        document.querySelectorAll('.candidate').forEach((el, idx) => {
            if (idx === selectedIndex) { el.classList.remove('selected'); el.classList.add('locked-selection'); }
            else { el.classList.add('dimmed'); }
            el.onclick = null;
        });
        setTimeout(() => { msg.style.display = 'none'; }, 2000);
    }
    function resetVoteUI() {
        isLocked = false; selectedIndex = null;
        document.getElementById('lock-btn').style.display = 'none';
        document.getElementById('success-msg').style.display = 'none';
    }

    function updateTimer() {
        const now = new Date(); let target = new Date();
        target.setHours(10, 0, 0, 0);
        if (now > target) target.setDate(target.getDate() + 1);
        const diff = target - now;
        const h = String(Math.floor((diff % (86400000)) / 3600000)).padStart(2, '0');
        const m = String(Math.floor((diff % 3600000) / 60000)).padStart(2, '0');
        const s = String(Math.floor((diff % 60000) / 1000)).padStart(2, '0');
        document.getElementById("countdown").innerText = `${h}:${m}:${s}`;
    }
    setInterval(updateTimer, 1000); updateTimer();
</script>
</body>
</html>